# Tourist Support RSO-Alania (Telegram Bot Version)

Данный проект представляет собой туристическую систему поддержки "Tourist Support RSO-Alania", в которой все функции реализованы через интерфейс Telegram-ботов (без веб-интерфейса).

## Функциональность

- **Авторизация пользователей:** происходит автоматически при первом обращении к боту (команда `/start`), на основе уникального Telegram ID (без логинов/паролей). Пользователь регистрируется в базе данных (таблица Users).
- **Каталог локаций:** команда `/locations` позволяет пользователю найти интересные места. Бот предлагает ввести критерий (ключевое слово), затем выводит список подходящих локаций. Также бот реагирует на произвольный текст пользователя как на поисковый запрос по каталогу.
- **Детальная информация о локации:** при выборе места (через кнопку списка) бот отправляет фотографию объекта, описание, статическую карту с отметкой координат, а также ссылку для открытия в картах. К сообщению прикреплены кнопки «Добавить в маршрут», «Забронировать» (и при необходимости «Отзывы»).
- **Планирование маршрута:** команда `/newtrip` создаёт новый маршрут (поездку). Пользователь может просматривать локации и нажимать «Добавить в маршрут» — выбранные точки добавятся в текущий маршрут. Команда `/optimize` (если бы реализована полностью) могла бы оптимизировать порядок посещения точек и прислать итоговый маршрут со статической картой маршрута.
- **Бронирование услуг:** при нажатии кнопки «Забронировать» бот запрашивает у пользователя детали (например, даты и количество участников), затем создаёт заявку (статус `pending`) в системе. Провайдер (владелец локации) получает уведомление через того же бота с кнопками «Подтвердить» и «Отклонить». В зависимости от действия провайдера бот уведомляет туриста о результате (подтверждено или отклонено).
- **Чат туриста с провайдером:** после подтверждения бронирования турист может в основном боте выполнить команду `/chat {booking_id}`, чтобы перейти в режим чата. Все последующие сообщения от туриста и провайдера будут пересылаться друг другу ботом, при этом номера телефонов не раскрываются. Команда `/exit` завершает режим чата.
- **Отдельный бот поддержки:** команда `/support` в основном боте выдаёт ссылку на бот поддержки. Пользователь может описать свой вопрос в чате ботом поддержки. Оператор (специалист поддержки) использует того же бота поддержки для ответа через команду `/answer`. Все сообщения пользователя и оператора в чате поддержки сохраняются в базе (с отметкой `is_support`).

## Технологический стек

- Язык реализации: **Go 1.23**.
- Веб-фреймворк: **Gin 1.11** (для REST API backend).
- БД: **PostgreSQL 15** (хранение данных).
- Библиотека для работы с БД: **sqlx** (удобная работа с `database/sql`).
- **Docker, Docker Compose** для контейнеризации.
- Взаимодействие с Telegram Bot API осуществлено через официальную Go-библиотеку [`go-telegram-bot-api`](https://github.com/go-telegram-bot-api/telegram-bot-api).

## Структура проекта

